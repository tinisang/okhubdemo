import logoNewsDetail from "../../public/imgs/logoNewsDetail.png";
import menuNewsDetail from "../../public/imgs/menuNewsDetail.png";

import whitelogo from '../../public/imgs/whitelogo.svg'

import Image from "next/image";
import Link from 'next/link'
import { useEffect, useRef, useState } from "react";
import { DropDown } from "./Dropdown";
import gsap from "gsap";

export const Header = () => {

  const [isOpen,setOpen] = useState(false)
  const header = useRef()

  const handleOpenMenu= ()=>{
    
    setOpen(!isOpen)
  }


  useEffect(()=>{
    var fakeScrollY = 0;
    window.addEventListener("scroll", function () {
      var thisScrollY = this.scrollY;
        if (this.scrollY > 0) {
      
       
        } else {
          header.current.style.backdropFilter = "blur(0px)";
        
        }

        if (fakeScrollY > thisScrollY) {

          header.current.style.transform = "translateY(0%)"

        }

        if (fakeScrollY < thisScrollY && thisScrollY > 300) {

          header.current.style.transform = "translateY(-100%)"

        }

        if (fakeScrollY == thisScrollY)

          if (thisScrollY == 0) {
            header.current.style.transform = "translateY(0%)"
          }

     
      fakeScrollY = thisScrollY
    });


    
        var tl = gsap.timeline({
          repeat:-1,
          
        });
    
        tl
          .from('.logo-icon .center',{
            opacity: 0,
          })
          .from('.logo-icon .radius1',{
            opacity: 0,
          })
          .from('.logo-icon .radius2',{
            opacity: 0,
          })

    return ()=>{
      tl.kill()
      window.removeEventListener('scroll',function(){})
    }
    
  })
  
  
  return (
    <>
    <div className="header-wrapper">

    
      <div className={" container-padding header-section "+ (isOpen ? 'opening' : '')} ref={header} >
          <div className="logo-area">
              <Link href='/'>
              <div className="logo-icon">
                {/* <Image src={isOpen ? whitelogo : logoNewsDetail} alt=''   /> */}
                <svg width="66" height="102" viewBox="0 0 66 102" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path className="center" d="M37.9066 75.8981C38.3858 76.1518 38.9214 76.3209 39.5134 76.3632C41.1343 76.4619 42.586 75.5457 43.2484 74.1645C43.4598 73.7275 43.5867 73.2484 43.6149 72.741C43.7135 71.106 42.7974 69.6543 41.402 69.0059C40.9228 68.7381 40.3872 68.5831 39.7953 68.5408C38.6536 68.4703 37.6107 68.8932 36.8496 69.6402C36.1871 70.2885 35.7502 71.1624 35.6938 72.1631C35.5811 73.7839 36.5113 75.2357 37.9066 75.8981Z" fill="url(#paint0_radial_1455_3177)"/>
                  <path className="radius1" d="M37.033 62.1279C37.0612 62.2266 37.0894 62.3252 37.1176 62.4098C37.1739 62.5225 37.2303 62.6353 37.3008 62.7481C37.329 62.7904 37.3431 62.8467 37.3712 62.889C37.4558 63.0299 37.5686 63.1427 37.6813 63.2696C37.6954 63.2837 37.6954 63.2978 37.7095 63.3119C38.2169 63.8333 38.9075 64.1434 39.6686 64.1716V64.1857C39.7532 64.1857 39.8519 64.1857 39.9364 64.1998C41.1626 64.2703 42.3043 64.6226 43.3191 65.1864C46.0252 66.4549 47.8998 69.161 48.0125 72.2759C48.0125 72.2618 48.0125 72.2336 48.0125 72.2195C48.0125 73.347 48.6609 74.3055 49.5911 74.7847C49.9857 74.9961 50.4368 75.123 50.916 75.123C51.1697 75.123 51.4093 75.0807 51.6489 75.0243C52.8751 74.7001 53.7912 73.6149 53.8194 72.29C53.8194 72.2618 53.8194 72.2477 53.8194 72.2195C53.8194 72.1913 53.8053 72.1631 53.8053 72.1349C53.5939 64.9468 47.928 58.9567 40.613 58.4916C40.3311 58.4775 40.0492 58.4634 39.7814 58.4634C39.7673 58.4634 39.7532 58.4634 39.7391 58.4634C39.725 58.4634 39.725 58.4634 39.7109 58.4634C39.6827 58.4634 39.6545 58.4634 39.6404 58.4634L39.6264 58.4774C38.2451 58.5338 37.1316 59.5486 36.9202 60.8876C36.892 61.0286 36.8779 61.1836 36.8779 61.3386C36.8779 61.536 36.892 61.7192 36.9343 61.9024C36.9766 61.9588 37.0048 62.0434 37.033 62.1279Z" fill="url(#paint1_linear_1455_3177)"/>
                  <path className="radius2" d="M65.5048 71.4163C65.5048 71.4022 65.5048 71.374 65.5048 71.3599V71.3458C64.9974 58.5199 55.2018 48.1465 42.7282 46.6243C42.6296 46.6102 42.5309 46.5961 42.4182 46.582C42.2913 46.5679 42.1786 46.5679 42.0517 46.5679C39.9235 46.5679 38.1757 48.1465 37.8938 50.1901C37.8657 50.3875 37.8516 50.5707 37.8516 50.768C37.8516 50.7962 37.8516 50.8385 37.8516 50.8666C37.8516 51.0922 37.8798 51.3177 37.922 51.5291C37.922 51.5573 37.9361 51.5996 37.9361 51.6278C37.9784 51.8392 38.0348 52.0365 38.1053 52.2197C38.1194 52.262 38.1335 52.2902 38.1476 52.3325C38.218 52.5298 38.3167 52.713 38.4154 52.8822C38.4294 52.9104 38.4435 52.9385 38.4576 52.9526C38.5704 53.1359 38.6831 53.305 38.8241 53.4741C38.965 53.6433 39.1201 53.7842 39.2751 53.9252C39.3033 53.9392 39.3174 53.9674 39.3456 53.9815C39.5006 54.1084 39.6697 54.2352 39.8389 54.3339C39.8671 54.348 39.8953 54.3762 39.9375 54.3902C40.1208 54.4889 40.304 54.5876 40.4872 54.658C40.5154 54.6721 40.5436 54.6722 40.5718 54.6863C40.7691 54.7567 40.9805 54.8272 41.206 54.8695L41.2201 54.8977C44.194 55.1937 46.9706 56.2084 49.3244 57.8011C51.5372 59.2528 53.3695 61.212 54.6803 63.4953C56.0615 65.849 56.9213 68.5692 57.0763 71.4727C57.0904 71.6136 57.0904 71.7546 57.0904 71.9096C57.1045 72.6566 57.3159 73.3472 57.6683 73.9533C57.6683 73.9533 57.6683 73.9533 57.6683 73.9674C57.7529 74.1083 57.8515 74.2493 57.9502 74.3902C57.9643 74.4184 57.9925 74.4325 58.0066 74.4607C58.0207 74.4748 58.0348 74.4889 58.0348 74.503C58.0348 74.503 58.0347 74.5171 58.0488 74.5171C58.1193 74.6016 58.2039 74.7003 58.2744 74.7848C58.3166 74.8271 58.373 74.8694 58.4153 74.9117C58.4717 74.954 58.514 75.0104 58.5704 75.0526C58.5985 75.0808 58.6267 75.109 58.6549 75.1231C58.6831 75.1372 58.7113 75.1513 58.7254 75.1795C59.2187 75.5459 59.7825 75.8279 60.4026 75.9547C60.6281 75.997 60.8677 76.0252 61.1073 76.0393C61.1637 76.0393 61.206 76.0533 61.2624 76.0533C63.5457 76.0533 65.4061 74.2211 65.4625 71.9519C65.4625 71.9237 65.4528 72.1808 65.4528 72.1526C65.5232 72.0117 65.5189 71.5573 65.5048 71.4163Z" fill="url(#paint2_linear_1455_3177)"/>
                  <path d="M51.2818 83.9886C50.704 84.341 50.0979 84.6792 49.4919 85.0034C49.3368 85.088 49.1959 85.1585 49.0408 85.243C44.4179 87.5968 39.1889 88.9358 33.6357 88.9358C16.5814 88.9358 2.45884 76.3635 0.0205078 59.9858C0.147357 68.9358 2.12058 75.3769 2.75483 77.0401C2.75483 77.0401 2.75482 77.0542 2.76891 77.0542C5.23543 84.3692 9.53424 90.8949 16.1727 95.5601C21.4017 99.2247 27.5328 101.142 33.8189 101.508C34.5236 101.55 35.2283 101.578 35.933 101.578C46.6166 101.536 56.0035 95.983 61.3875 87.6109C62.4023 86.0323 63.2762 84.3692 63.9809 82.6074L60.711 82.0718C57.427 81.508 54.1148 82.2691 51.2818 83.9886Z" fill="url(#paint3_linear_1455_3177)"/>
                  <path d="M49.4932 84.9894C50.0992 84.6652 50.6912 84.3411 51.2831 83.9746C51.1845 84.031 51.0717 84.0873 50.9731 84.1578C50.4938 84.4679 49.9865 84.7357 49.4932 84.9894Z" fill="#00AEEF"/>
                  <path d="M43.2206 86.8779C42.5864 86.9484 41.938 86.9765 41.2897 86.9765C31.3391 86.9765 23.263 78.9146 23.263 68.9498C23.263 62.4382 26.7161 56.73 31.9028 53.5587C34.5385 51.952 35.2291 49.1331 35.1305 46.5397C34.9613 41.7617 31.9733 37.322 29.2954 32.2903C28.6048 30.9936 28.041 29.6265 27.5477 28.217C26.8288 26.1733 26.3355 24.0169 26.0537 21.804C25.9127 20.6906 25.8141 19.5771 25.7859 18.4496C25.7859 18.1818 25.7859 17.914 25.7859 17.6321C25.7295 15.5602 25.9127 13.4461 26.3355 11.3178C27.1953 7.06129 28.943 3.22762 31.3391 0C30.9303 0.155038 30.5357 0.338259 30.141 0.521486C27.9 1.55038 25.0107 3.65046 24.8697 3.74912C24.4751 4.01691 24.0945 4.32698 23.7563 4.62296C21.7831 6.25791 20.0635 8.28752 18.6682 10.6272C18.485 10.9514 18.0198 11.7688 18.0057 11.7829C17.8789 12.0085 17.7661 12.2339 17.6534 12.4736C17.5688 12.6427 17.4702 12.8118 17.3856 12.995V13.0091C15.2996 17.2657 14.3553 22.0577 14.5526 26.8216C14.6513 29.0627 14.9755 31.2896 15.5815 33.446C15.9339 34.6863 16.3708 35.8984 16.8923 37.0824C17.4843 38.4072 18.1749 39.6758 18.9642 40.8879C17.2588 38.8583 15.7366 36.6736 14.4399 34.348C13.4533 32.5862 12.5935 30.754 11.8465 28.8653C11.48 27.9492 11.1418 27.019 10.8458 26.0605C10.578 25.3135 10.3243 24.5525 10.0847 23.7914C9.5773 24.7075 9.0699 25.6659 8.5625 26.6525C7.35039 29.0345 6.63157 31.6842 6.5611 34.3903C6.5611 34.5877 6.54702 34.785 6.54702 34.9964C6.54702 35.0105 6.54702 35.0387 6.54702 35.0528C6.5752 37.3502 6.95574 39.6335 7.58999 41.8463C8.5625 45.2289 10.1129 48.4565 11.917 51.3882C11.917 51.3882 8.35109 48.0901 6.95574 46.4551C6.53291 45.9477 6.12417 45.4404 5.74362 44.9048C4.71473 43.5235 3.7986 42.0718 2.7979 40.6624C1.65625 44.3128 0.923337 47.8505 0.500505 51.1909C0.105862 54.3198 -0.0350693 57.2797 0.0072139 59.9999C2.44555 76.3776 16.554 88.9498 33.6223 88.9498C39.1755 88.9498 44.4046 87.6108 49.0275 85.257C47.2376 86.0745 45.2925 86.6524 43.2206 86.8779Z" fill="url(#paint4_linear_1455_3177)"/>
                  <defs>
                  <radialGradient id="paint0_radial_1455_3177" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(39.6075 72.4637) scale(7.79845 7.79842)">
                  <stop stopColor="#6A6A6A"/>
                  <stop offset="0.432" stopColor="#444444"/>
                  <stop offset="1"/>
                  </radialGradient>
                  <linearGradient id="paint1_linear_1455_3177" x1="34.8107" y1="51.5535" x2="52.734" y2="74.3238" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#6A6A6A"/>
                  <stop offset="0.432" stopColor="#444444"/>
                  <stop offset="1"/>
                  </linearGradient>
                  <linearGradient id="paint2_linear_1455_3177" x1="42.4793" y1="44.3171" x2="61.7552" y2="73.6256" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#6A6A6A"/>
                  <stop offset="0.432" stopColor="#444444"/>
                  <stop offset="1"/>
                  </linearGradient>
                  <linearGradient id="paint3_linear_1455_3177" x1="2.73932" y1="78.6488" x2="60.1491" y2="87.4413" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#6A6A6A"/>
                  <stop offset="0.432" stopColor="#444444"/>
                  <stop offset="1"/>
                  </linearGradient>
                  <linearGradient id="paint4_linear_1455_3177" x1="11.319" y1="13.5003" x2="31.1585" y2="90.1534" gradientUnits="userSpaceOnUse">
                  <stop stopColor="#6A6A6A"/>
                  <stop offset="0.432" stopColor="#444444"/>
                  <stop offset="1"/>
                  </linearGradient>
                  </defs>
                </svg>

              </div>

              </Link>
          </div>

          <div className={"menu-trigger "+ (isOpen ? 'opening' : '')} onClick={()=>{handleOpenMenu()}} >
            <div className="hamburger-icon">
              <span className="line1 line"></span>
              <span className="line2 line"></span>
              <span className="line3 line"></span>
            </div>
          </div>
          
      </div>

    {<DropDown status={isOpen} />}
      </div>
    </>
  );
};
